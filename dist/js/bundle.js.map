{"version":3,"file":"bundle.js","sources":["../src/script.js"],"sourcesContent":["const loader = document.getElementById(\"loadingContainer\"),\n  content = document.getElementById(\"content\"),\n  activeIcon = document.getElementById(\"activeIcon\"),\n  userList = document.getElementById(\"userList\"),\n  userListWrapper = document.getElementById(\"userList-wrapper\"),\n  headerPrefix = \"__YTSAVE_HEADER_\" + Math.random().toString(36).slice(2) + \"_\",\n  sortActive = (a, b) => (a.active ? -1 : b.active ? 1 : 0),\n  preloadImage = (url) =>\n    new Promise((resolve) => {\n      let img = new Image();\n      img.onload = resolve;\n      img.src = url;\n    }),\n  cssToMs = (string) => (string.includes(\"m\") ? parseFloat(string) : parseFloat(string) * 1000);\n\nlet SAPISID,\n  firefox = navigator.userAgent.includes(\"Firefox/\");\n\nactiveIcon.onclick = showUserlist;\n\nbrowser.webRequest.onBeforeSendHeaders.addListener(\n  ({ requestHeaders }) => {\n    requestHeaders\n      .filter((i) => i.name.startsWith(headerPrefix))\n      .forEach((i) => {\n        let name = i.name.replace(headerPrefix, \"\");\n\n        requestHeaders = requestHeaders.filter(\n          (j) => j.name.toLowerCase() != name.toLowerCase() && j.name.toLowerCase() != i.name.toLowerCase()\n        );\n        requestHeaders.push({ name, value: i.value });\n      });\n\n    return { requestHeaders };\n  },\n  {\n    urls: [\"https://www.youtube.com/*\"]\n  },\n  (\"requestHeaders blocking\" + (firefox ? \"\" : \" extraHeaders\")).split(\" \")\n);\n\nfunction hideUserlist() {\n  userListWrapper.style.opacity = \"0\";\n  userListWrapper.style.pointerEvents = \"none\";\n  activeIcon.style.opacity = \"1\";\n  setTimeout(() => (userList.innerHTML = \"\"), cssToMs(getComputedStyle(content).transitionDuration));\n}\n\nasync function showUserlist() {\n  let users = await getUsers();\n\n  await Promise.all(users.flatMap((user) => user.accounts.map((account) => preloadImage(account.icon))));\n\n  users.forEach((i) => {\n    let email = document.createElement(\"span\");\n    email.className = \"email\";\n    email.innerHTML = i.email;\n    userList.appendChild(email);\n    i.accounts.forEach((j) => {\n      let el = document.createElement(\"div\");\n      el.className = \"user\";\n      el.onclick = j.active ? hideUserlist : () => changeUser(j.endpoint);\n      el.innerHTML = `<img class=\"icon\" src=\"${j.icon}\"/>\n          <div class=\"name\">${j.name}</div>\n          <div class=\"subtitle\">\n            ${j.byline}\n          </div>`;\n      userList.appendChild(el);\n    });\n  });\n\n  let addAccount = document.createElement(\"div\");\n  addAccount.id = \"addNew\";\n  addAccount.className = \"user\";\n  addAccount.innerHTML = `<img src=\"adduser.svg\" /> Add another account`;\n  addAccount.onclick = login;\n  userList.appendChild(addAccount);\n  userListWrapper.style.opacity = \"1\";\n  userListWrapper.style.pointerEvents = \"auto\";\n  activeIcon.style.opacity = \"0\";\n}\n\nuserListWrapper.onclick = hideUserlist;\n\nfunction changeUser(endpoint) {\n  loader.style.opacity = \"1\";\n  content.style.opacity = \"0\";\n  hideUserlist();\n  fetch(endpoint, {\n    headers: {\n      [headerPrefix + \"Origin\"]: \"https://www.youtube.com\"\n    }\n  }).then(load);\n}\n\nasync function getYoutubeData(url) {\n  let data = await fetch(\"https://www.youtube.com/\" + url, {\n    credentials: \"include\"\n  }).then((res) => res.text());\n\n  return {\n    initialData: JSON.parse(\"{\" + data.match(/(?<=var ytInitialData = {).*?(?=};)/s) + \"}\"),\n    context: getInternalApiParams(data)\n  };\n}\n\nfunction getInternalApiParams(data) {\n  return data\n    .match(/(?<=ytcfg\\.set\\({).*?(?=}\\);)/gs)\n    .map((i) => JSON.parse(\"{\" + i + \"}\"))\n    .reduce((a, i) => {\n      return { ...a, ...i };\n    }, {});\n}\n\nasync function editPlaylist(context, input, playlistId = \"WL\") {\n  await internalApiRequest(\n    \"POST\",\n    \"browse/edit_playlist\",\n    {\n      playlistId,\n      actions: (typeof input == \"string\" ? [input] : Array.isArray(input) ? input : input.add || [])\n        .map((i) => ({\n          addedVideoId: i,\n          action: \"ACTION_ADD_VIDEO\"\n        }))\n        .concat(\n          (input.remove || []).map((i) => ({\n            removedVideoId: i,\n            action: \"ACTION_REMOVE_VIDEO_BY_VIDEO_ID\"\n          }))\n        )\n    },\n    context\n  );\n}\n\nasync function getPlaylistData(context, videoId) {\n  let data = await internalApiRequest(\n    \"POST\",\n    \"playlist/get_add_to_playlist\",\n    {\n      excludeWatchLater: false,\n      videoIds: [videoId]\n    },\n    context\n  );\n\n  return data.contents[0].addToPlaylistRenderer.playlists.map(({ playlistAddToOptionRenderer: i }) => ({\n    id: i.playlistId,\n    name: i.title.simpleText,\n    privacy: i.privacy,\n    hasVideo: i.containsSelectedVideos\n  }));\n}\n\n// async function createPlaylist(context, name, privacy, videoId)\n\nfunction parseSubscriptionsData(data) {\n  return {\n    token: data[data.length - 1].continuationItemRenderer\n      ? data.pop().continuationItemRenderer.continuationEndpoint.continuationCommand.token\n      : null,\n    items: data\n      .flatMap((i) => i.itemSectionRenderer.contents[0].shelfRenderer.content.gridRenderer.items)\n      .map(({ gridVideoRenderer: i }) => {\n        let overlayData = i.thumbnailOverlays.reduce(Object.assign, {}),\n          badges = (i.ownerBadges || [])\n            .concat(i.badges || [])\n            .map((i) => i.metadataBadgeRenderer.style.replace(\"BADGE_STYLE_TYPE_\", \"\")),\n          live = badges.includes(\"LIVE_NOW\"),\n          upcoming = \"upcomingEventData\" in i;\n\n        return {\n          id: i.videoId,\n          thumbnail: `https://i.ytimg.com/vi/${i.videoId}/maxresdefault.jpg`,\n          title: i.title.runs[0].text,\n          live,\n          scheduled: upcoming ? i.upcomingEventData.startTime : false,\n          published: live || upcoming ? null : i.publishedTimeText.simpleText,\n          viewCount: upcoming\n            ? null\n            : live\n            ? i.viewCountText.runs.reduce((a, i) => a + i.text, \"\")\n            : i.viewCountText.simpleText,\n          animatedThumbnail: i.richThumbnail\n            ? i.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails.pop().url\n            : null,\n          channel: {\n            name: i.shortBylineText.runs[0].text.trim(),\n            id: i.shortBylineText.runs[0].navigationEndpoint.browseEndpoint.browseId,\n            icon: i.channelThumbnail.thumbnails[0].url,\n            verified: badges.includes(\"VERIFIED\")\n          },\n          duration: live || upcoming ? null : overlayData.thumbnailOverlayTimeStatusRenderer.text.simpleText,\n          progress: overlayData.thumbnailOverlayResumePlaybackRenderer\n            ? overlayData.thumbnailOverlayResumePlaybackRenderer.percentDurationWatched\n            : 0,\n          __DATA_RAW: i\n        };\n      })\n  };\n}\n\nasync function getSubscriptionsFeed(token, context) {\n  if (token && context) {\n    let response = await internalApiRequest(\n      \"POST\",\n      \"browse\",\n      {\n        continuation: token\n      },\n      context\n    );\n\n    return parseSubscriptionsData(\n      response.onResponseReceivedActions[0].appendContinuationItemsAction.continuationItems\n    );\n  } else {\n    let response = await getYoutubeData(\"feed/subscriptions\");\n    return {\n      ...parseSubscriptionsData(\n        response.initialData.contents.twoColumnBrowseResultsRenderer.tabs[0].tabRenderer.content.sectionListRenderer\n          .contents\n      ),\n      etc: {\n        context: response.context,\n        userIcon:\n          response.initialData.topbar.desktopTopbarRenderer.topbarButtons.pop().topbarMenuButtonRenderer.avatar\n            .thumbnails[0].url\n      }\n    };\n  }\n}\n\nasync function sha1hash(data) {\n  return [...new Uint8Array(await crypto.subtle.digest(\"SHA-1\", new TextEncoder().encode(data)))]\n    .map((i) => i.toString(16))\n    .join(\"\");\n}\n\nasync function apiAuthHeader() {\n  let timestamp = Math.floor(new Date().getTime() / 1000);\n  return `SAPISIDHASH ${timestamp}_${await sha1hash(timestamp + \" \" + SAPISID + \" https://www.youtube.com\")}`;\n}\n\nasync function internalApiRequest(method, endpoint, body, context) {\n  return await fetch(\n    `https://www.youtube.com/youtubei/v1/${endpoint}?key=${context.INNERTUBE_API_KEY}&prettyPrint=false`,\n    {\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        Accept: \"*/*\",\n        \"Accept-Language\": \"en-US,en;q=0.5\",\n        \"Content-Type\": \"application/json\",\n        \"X-Goog-Visitor-Id\": context.INNERTUBE_CONTEXT.client.visitorData,\n        \"X-Youtube-Client-Name\": context.INNERTUBE_CONTEXT_CLIENT_NAME,\n        \"X-Youtube-Client-Version\": context.INNERTUBE_CONTEXT_CLIENT_VERSION,\n        Authorization: await apiAuthHeader(),\n        \"X-Goog-AuthUser\": context.SESSION_INDEX,\n        \"X-Origin\": \"https://www.youtube.com\",\n        \"X-Goog-PageId\": context.DELEGATED_SESSION_ID,\n        \"Alt-Used\": \"www.youtube.com\",\n        \"Sec-Fetch-Dest\": \"empty\",\n        \"Sec-Fetch-Mode\": \"no-cors\",\n        \"Sec-Fetch-Site\": \"same-origin\",\n        Pragma: \"no-cache\",\n        \"Cache-Control\": \"no-cache\",\n        [headerPrefix + \"Referer\"]: \"https://www.youtube.com/feed/subscriptions\",\n        [headerPrefix + \"Origin\"]: \"https://www.youtube.com\"\n      },\n      body: JSON.stringify({\n        context: context.INNERTUBE_CONTEXT,\n        ...body\n      }),\n      method\n    }\n  ).then((res) => res.json());\n}\n\nasync function login() {\n  await browser.tabs.create({\n    url: \"https://accounts.google.com/AddSession\"\n  });\n\n  window.close();\n}\n\nasync function getUsers() {\n  let res = await fetch(\"https://www.youtube.com/getAccountSwitcherEndpoint\", {\n    credentials: \"include\"\n  });\n\n  let resBody = await res.text();\n  return JSON.parse(resBody.slice(5))\n    .data.actions[0].getMultiPageMenuAction.menu.multiPageMenuRenderer.sections.map((i) => i.accountSectionListRenderer)\n    .map((i, index) => {\n      let email = index\n        ? i.contents[0].accountItemSectionRenderer.header.accountItemSectionHeaderRenderer.title.runs[0].text\n        : i.header.googleAccountHeaderRenderer.email.simpleText;\n\n      let accounts = i.contents[0].accountItemSectionRenderer.contents;\n      accounts = (index ? accounts : accounts.slice(0, accounts.length - 1))\n        .map(({ accountItem }) => {\n          return {\n            active: accountItem.isSelected,\n            name: accountItem.accountName.simpleText,\n            icon: accountItem.accountPhoto.thumbnails[0].url,\n            endpoint:\n              \"https://www.youtube.com\" +\n              accountItem.serviceEndpoint.selectActiveIdentityEndpoint.supportedTokens.reduce((a, i) => {\n                return { ...a, ...i };\n              }, {}).accountSigninToken.signinUrl,\n            byline: accountItem.accountByline.simpleText\n          };\n        })\n        .sort(sortActive);\n      return {\n        email,\n        active: !!accounts.find((i) => i.active),\n        accounts\n      };\n    })\n    .sort(sortActive);\n}\n\nasync function load() {\n  await Promise.all([\n    document.fonts.load(\"14px Roboto\"),\n    preloadImage(\"adduser.svg\"),\n    browser.cookies\n      .get({\n        url: \"https://www.youtube.com\",\n        name: \"SAPISID\"\n      })\n      .then((cookie) => (SAPISID = cookie.value))\n      .then(getSubscriptionsFeed)\n      .then(({ token, items, etc }) => {\n        activeIcon.src = etc.userIcon;\n        x = [token, items, etc.context];\n      })\n  ]);\n\n  loader.style.opacity = \"0\";\n  content.style.opacity = \"1\";\n}\n\nload();\n"],"names":[],"mappings":"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"}